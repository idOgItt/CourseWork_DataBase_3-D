# Документ требований

## 1. Роли пользователей

### Администратор
- **Обязанности:**
  - Управление пользователями (создание, редактирование, удаление аккаунтов).
  - Управление каталогом (добавление, редактирование, удаление моделей и категорий).
  - Модерация отзывов (утверждение или удаление отзывов пользователей).
  - Управление скидками, промокодами (утверждение или удаление скидок).
  - Сбор статистики по действиям пользователей.
  - Выполнение резервного копирования и восстановления базы данных.
- **Права доступа:**
  - Полный доступ ко всем функциям системы и данным.

### Клиент
- **Обязанности:**
  - Регистрация и вход в систему.
  - Просмотр каталога 3D-моделей.
  - Добавление моделей в корзину и оформление заказов.
  - Оставление отзывов на приобретённые модели.
- **Права доступа:**
  - Ограниченный доступ к своим данным, заказам и функциям отзывов.

### Гость
- **Обязанности:**
  - Просмотр каталога 3D-моделей.
- **Права доступа:**
  - Только просмотр общедоступных данных в каталоге.

## 2. Функциональные требования

### Каталог 3D-моделей
- **Функции:**
  - Поиск по ключевым словам.
  - Фильтрация по категории, ценовому диапазону и популярности.
  - Сортировка по цене, рейтингу или дате добавления.
  - Отображение детальной информации о модели (название, описание, цена, рейтинг, изображения).

### Управление пользователями
- **Регистрация:**
  - Пользователь должен указать email, пароль и имя.
  - Требуется подтверждение email для активации.
- **Аутентификация:**
  - Безопасное хранение пароля с использованием BCrypt.
  - Вход в систему с использованием email и пароля.
- **Восстановление пароля:**
  - Запрос ссылки для сброса пароля на email.
- **Управление ролями:**
  - Администратор назначает роли при создании или изменении пользователей.

### Корзина и заказы
- **Управление корзиной:**
  - Добавление, удаление и обновление количества моделей в корзине.
  - Отображение общей стоимости в реальном времени.
- **Оформление заказа:**
  - Размещение заказа из корзины.
  - Выбор способов доставки.
  - Выбор методов оплаты (например, банковская карта, PayPal).

### Отзывы и рейтинги
- **Функции клиента:**
  - Оставление отзывов и рейтингов на приобретённые модели.
  - Редактирование или удаление своих отзывов.
- **Функции администратора:**
  - Утверждение или удаление отзывов.
- **Публичный просмотр:**
  - Отображение утверждённых отзывов и среднего рейтинга на страницах моделей.

### Безопасность
- **Аутентификация и авторизация:**
  - Безопасное управление сессиями с использованием токенов.
  - Ролевое разграничение доступа ко всем ресурсам.
- **Защита данных:**
  - Шифрование конфиденциальных данных (например, пароли, платежная информация).
  - Очистка пользовательского ввода для предотвращения SQL-инъекций.

## 3. Нефункциональные требования

### Производительность
- Система должна обрабатывать до 100 одновременных пользователей без ухудшения производительности.
- Время ответа API не должно превышать 300 мс для 95% запросов.

### Масштабируемость
- Архитектура должна поддерживать лёгкое масштабирование для роста числа пользователей.

### Удобство использования
- Интуитивно понятный и удобный дизайн для нетехнических пользователей.
- Полная документация и всплывающие подсказки для функций приложения.

### Надёжность
- Обеспечить 99.9% времени безотказной работы системы.
- Автоматическое резервное копирование выполняется ежедневно.

### Соответствие требованиям
- Следовать требованиям GDPR для защиты данных пользователей.

## 4. Требования к клиентской части

### Основные функции
- Регистрация и авторизация пользователей.
- Поиск, сортировка и фильтрация моделей в каталоге.
- Просмотр детальной информации о моделях.
- Управление корзиной: добавление, удаление, изменение количества моделей.
- Оформление заказа с выбором оплаты и доставки.
- Отображение отзывов и рейтингов, добавление собственных отзывов.
- Ввод промокодов и отображение скидок.

### Ограничения
- Использование gRPC API для получения данных.
- Поддержка современного браузера (Chrome, Firefox, Safari).

## 5. Требования к серверной части

### Основные функции
- Реализация gRPC API для взаимодействия с клиентской частью.
- Логирование действий пользователей.
- Поддержка хранимых процедур и функций для обработки сложных операций.
- Управление ролями и доступом.
- Резервное копирование и восстановление базы данных.

### Ограничения
- Использование PostgreSQL.
- Обработка всех данных только на стороне сервера.
- Полная защита данных от SQL-инъекций и XSS-атак.

## 6. Документация
- **Техническая документация:**
  - Архитектура системы.
  - Спецификации API.
- **Пользовательская документация:**
  - Пошаговые руководства по использованию приложения.
  - Часто задаваемые вопросы и советы по устранению неисправностей.

---
